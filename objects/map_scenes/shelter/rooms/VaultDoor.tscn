[gd_scene load_steps=8 format=3 uid="uid://di108753nv2ai"]

[ext_resource type="PackedScene" uid="uid://dacyqnhhe31i3" path="res://assets/meshes/rooms/vault_door.glb" id="1_na6rj"]
[ext_resource type="PackedScene" uid="uid://df03y6j0we2a1" path="res://objects/core/base_collisions/RoomCollider.tscn" id="2_607xf"]
[ext_resource type="PackedScene" uid="uid://bqus1pqulwr52" path="res://assets/meshes/rooms/silhouettes/vault_door_silhouette.glb" id="3_y0erd"]

[sub_resource type="Animation" id="Animation_5ve63"]
resource_name = "open_door"
length = 5.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("NavigationRegion3D/vault_door/Door:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.5, 1.3, 2.1, 5.5),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(-0.807131, -1.35283, 0.0537325), Vector3(-0.807131, -1.35283, -0.221216), Vector3(-0.807131, -1.35283, -0.221216), Vector3(-2.054, -1.353, -0.221)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("NavigationRegion3D/vault_door/Door:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(2.1, 5.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 0, 2.79253)]
}

[sub_resource type="Animation" id="Animation_q2xa1"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("NavigationRegion3D/vault_door/Door:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.807131, -1.35283, 0.0537325)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("NavigationRegion3D/vault_door/Door:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_xbo8l"]
_data = {
"RESET": SubResource("Animation_q2xa1"),
"open_door": SubResource("Animation_5ve63")
}

[sub_resource type="NavigationMesh" id="NavigationMesh_7x8vm"]
vertices = PackedVector3Array(-2.78266, -1.51725, -5.45, -2.78266, -1.51725, -5.3, -2.58266, -1.51725, -5.25, -2.63266, -1.51725, -5.55, -1.83266, -1.61725, -3.9, -1.63266, -1.71725, -3.9, -1.63266, -1.71725, -4.75, -1.83266, -1.61725, -4.75, -2.58266, -1.51725, -5.25, -2.58266, -1.51725, -4.8, -2.48266, -1.51725, -4.75, -2.58266, -1.51725, -3.95, -2.78266, -1.51725, -3.8, -1.83266, -1.51725, -3.8, -1.83266, -1.61725, -3.9, -2.08266, -1.51725, -3.91667, -1.83266, -1.61725, -3.9, -1.83266, -1.61725, -4.75, -2.48266, -1.51725, -4.75, -2.58266, -1.51725, -3.95, -2.08266, -1.51725, -3.91667, -2.04933, -1.51725, -4.75, -2.63266, -1.51725, -5.55, -2.58266, -1.51725, -5.25, -2.48266, -1.51725, -4.75, -1.83266, -1.61725, -4.75, -1.78266, -1.51725, -5.55, -2.04933, -1.51725, -4.75, -1.81599, -1.51725, -5.01667, -1.63266, -1.71725, -4.75, -1.63266, -1.71725, -3.9, -1.43266, -1.81725, -3.85, -1.43266, -1.81725, -4.8, -0.0826614, -1.81725, -5.55, -1.38266, -1.81725, -5.55, -1.43266, -1.81725, -4.8, -1.43266, -1.81725, -3.85, -0.0826614, -1.81725, -3.6, -1.43266, -1.81725, -3.85, -1.43266, -1.81725, -3.55, -0.0826614, -1.81725, -3.6, -2.78266, -1.51725, -3.8, -2.78266, -1.51725, -3.55, -2.58266, -1.51725, -3.5, -1.83266, -1.51725, -3.7, -1.83266, -1.51725, -3.8, -1.93266, -1.51725, -1.85, -1.88266, -1.51725, -1.45, -1.78266, -1.51725, -1.45, -1.78266, -1.51725, -2.5, -1.63266, -1.51725, -3.7, -1.83266, -1.51725, -3.7, -2.58266, -1.51725, -3.5, -2.58266, -1.51725, -2.95, -1.78266, -1.51725, -2.5, -1.63266, -1.51725, -2.55, -2.58266, -1.51725, -2.95, -2.78266, -1.51725, -2.9, -2.78266, -1.51725, -1.9, -1.93266, -1.51725, -1.85, -1.78266, -1.51725, -2.5, -1.43266, -1.91725, -0.3, -1.53266, -1.96725, -0.3, -1.53266, -1.96725, -0.25, -1.23266, -1.91725, -0.25, -1.03266, -1.81725, -0.45, -1.03266, -1.81725, -0.2, -0.932662, -1.81725, -0.5, -0.682662, -1.81725, -0.5, -0.632662, -1.76725, -0.2, -0.532661, -1.81725, -0.5, -1.43266, -1.81725, -1.1, -0.932662, -1.81725, -0.5, -0.682662, -1.81725, -0.5, -1.43266, -1.91725, -0.3, -1.23266, -1.91725, -0.25, -1.28266, -1.81725, -0.5, -1.43266, -1.81725, -0.5, -1.43266, -1.81725, -1.1, -0.682662, -1.81725, -0.5, -0.532661, -1.81725, -0.5, -0.332661, -1.81725, -0.45, -0.332661, -1.81725, -0.25, -0.0826614, -1.81725, -0.25, -0.0826614, -1.81725, -3.6, -1.28266, -1.81725, -0.5, -1.03266, -1.81725, -0.45, -0.932662, -1.81725, -0.5, -1.43266, -1.81725, -1.1, -1.43266, -1.81725, -1.1, -1.43266, -1.81725, -0.5, -1.28266, -1.81725, -0.5, -1.43266, -1.81725, -1.1, -0.532661, -1.81725, -0.5, -0.332661, -1.81725, -0.45, -0.0826614, -1.81725, -3.6, -1.43266, -1.81725, -3.55, -1.53266, -1.96725, -0.25, -1.53266, -1.96725, -0.3, -1.68266, -1.91725, -0.3, -2.08266, -1.91725, -0.3, -2.08266, -1.81725, -0.5, -2.23266, -1.81725, -0.5, -2.28266, -1.91725, -0.25, -1.83266, -1.81725, -0.5, -1.68266, -1.81725, -0.5, -1.43266, -1.81725, -1.1, -2.73266, -1.81725, -0.25, -2.48266, -1.81725, -0.25, -2.43266, -1.81725, -0.5, -2.88266, -1.81725, -1.05, -2.88266, -1.81725, -0.35, -1.83266, -1.91725, -0.3, -2.08266, -1.91725, -0.3, -2.28266, -1.91725, -0.25, -1.53266, -1.96725, -0.25, -2.08266, -1.81725, -0.5, -1.83266, -1.81725, -0.5, -1.43266, -1.81725, -1.1, -1.83266, -1.91725, -0.3, -1.53266, -1.96725, -0.25, -1.68266, -1.91725, -0.3, -1.83266, -1.81725, -0.5, -1.83266, -1.91725, -0.3, -1.68266, -1.91725, -0.3, -1.68266, -1.81725, -0.5, -2.88266, -1.81725, -1.05, -2.23266, -1.81725, -0.5, -2.08266, -1.81725, -0.5, -1.43266, -1.81725, -1.1, -2.88266, -1.81725, -1.05, -2.43266, -1.81725, -0.5, -2.23266, -1.81725, -0.5, -1.68266, -1.81725, -0.5, -1.43266, -1.81725, -0.5, -1.43266, -1.81725, -1.1, -3.18266, -0.617246, 0.15, -0.0826614, -0.467246, 0.15, -0.0826614, -0.467246, 0, -3.18266, -0.617246, -0.0499997, -2.61903, -0.467246, 0.15, -2.61903, -0.467246, -0.0409088)
polygons = [PackedInt32Array(0, 3, 1), PackedInt32Array(1, 3, 2), PackedInt32Array(7, 6, 4), PackedInt32Array(4, 6, 5), PackedInt32Array(10, 9, 8), PackedInt32Array(14, 13, 15), PackedInt32Array(15, 13, 11), PackedInt32Array(11, 13, 12), PackedInt32Array(17, 16, 21), PackedInt32Array(21, 16, 20), PackedInt32Array(21, 20, 18), PackedInt32Array(18, 20, 19), PackedInt32Array(25, 27, 28), PackedInt32Array(28, 27, 24), PackedInt32Array(28, 24, 23), PackedInt32Array(28, 23, 22), PackedInt32Array(28, 22, 26), PackedInt32Array(29, 32, 30), PackedInt32Array(30, 32, 31), PackedInt32Array(35, 34, 36), PackedInt32Array(36, 34, 33), PackedInt32Array(36, 33, 37), PackedInt32Array(40, 39, 38), PackedInt32Array(42, 41, 43), PackedInt32Array(43, 41, 44), PackedInt32Array(44, 41, 45), PackedInt32Array(47, 46, 48), PackedInt32Array(48, 46, 49), PackedInt32Array(51, 50, 52), PackedInt32Array(52, 50, 53), PackedInt32Array(53, 50, 54), PackedInt32Array(54, 50, 55), PackedInt32Array(56, 60, 57), PackedInt32Array(57, 60, 59), PackedInt32Array(57, 59, 58), PackedInt32Array(62, 61, 63), PackedInt32Array(63, 61, 64), PackedInt32Array(67, 66, 65), PackedInt32Array(70, 69, 68), PackedInt32Array(73, 72, 71), PackedInt32Array(77, 76, 74), PackedInt32Array(74, 76, 75), PackedInt32Array(79, 78, 80), PackedInt32Array(82, 81, 83), PackedInt32Array(83, 81, 84), PackedInt32Array(86, 85, 87), PackedInt32Array(87, 85, 88), PackedInt32Array(91, 90, 89), PackedInt32Array(93, 92, 94), PackedInt32Array(94, 92, 96), PackedInt32Array(94, 96, 95), PackedInt32Array(99, 98, 97), PackedInt32Array(101, 100, 102), PackedInt32Array(102, 100, 103), PackedInt32Array(106, 105, 104), PackedInt32Array(107, 111, 108), PackedInt32Array(108, 111, 109), PackedInt32Array(109, 111, 110), PackedInt32Array(113, 112, 114), PackedInt32Array(114, 112, 115), PackedInt32Array(116, 118, 117), PackedInt32Array(121, 120, 119), PackedInt32Array(125, 124, 122), PackedInt32Array(122, 124, 123), PackedInt32Array(127, 126, 128), PackedInt32Array(128, 126, 129), PackedInt32Array(132, 131, 130), PackedInt32Array(135, 134, 133), PackedInt32Array(139, 141, 136), PackedInt32Array(136, 141, 140), PackedInt32Array(140, 141, 138), PackedInt32Array(140, 138, 137)]
cell_size = 0.05
cell_height = 0.05
agent_height = 1.0
agent_radius = 0.1
agent_max_climb = 0.1

[node name="VaultDoor" type="Node3D"]

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_xbo8l")
}

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_7x8vm")
use_edge_connections = false

[node name="vault_door" parent="NavigationRegion3D" instance=ExtResource("1_na6rj")]

[node name="RoomCollider" parent="." instance=ExtResource("2_607xf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, -1, -3)
room_size = 2

[node name="vault_door_silhouette" parent="." instance=ExtResource("3_y0erd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 0)

[node name="SlotMarkers" type="Node" parent="."]

[node name="m01" type="Marker3D" parent="SlotMarkers"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.671596, -1.9483, -1.49819)

[node name="m02" type="Marker3D" parent="SlotMarkers"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.67563, -1.5809, -1.78999)

[node name="m03" type="Marker3D" parent="SlotMarkers"]
transform = Transform3D(1, 0, 0, 0, 0.99997, 0.00780154, 0, -0.00780154, 0.99997, -2.14035, -1.5809, -5.17145)

[node name="m04" type="Marker3D" parent="SlotMarkers"]
transform = Transform3D(1, 0, 0, 0, 0.999932, 0.0116236, 0, -0.0116236, 0.999932, -0.535635, -1.9483, -4.94835)

[node name="tCooldown" type="Timer" parent="."]
wait_time = 5.0
one_shot = true

[editable path="NavigationRegion3D/vault_door"]
